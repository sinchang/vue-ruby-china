webpackJsonp([8,10],{80:function(t,e,s){s(170);var a=s(1)(s(116),s(193),"data-v-14740458",null);t.exports=a.exports},113:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"reply",props:{reply:{type:Object,required:!0}}}},116:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),i=a(n),o=s(190),r=a(o),l=s(77),c=a(l);e.default={name:"t-detail",data:function(){return{topic:{},isShow:i.default.readCookie("fe_token"),user:{},replies:[],output:""}},mounted:function(){var t=this;i.default.fetch({url:i.default.APIURL+"topics/"+this.$route.params.id,successCallback:function(e){t.topic=e.data.topic,t.user=t.topic.user}}),i.default.fetch({url:i.default.APIURL+"topics/"+this.$route.params.id+"/replies",successCallback:function(e){t.replies=e.data.replies}})},methods:{reply:function(){i.default.fetch({url:i.default.APIURL+"topics/"+this.$route.params.id+"/replies",method:"POST",data:{body:this.output},successCallback:function(t){window.location.reload()}})},cb:function(t){this.output=t}},components:{reply:r.default,markdown:c.default}}},162:function(t,e,s){e=t.exports=s(2)(),e.push([t.id,".level-item .title[data-v-14740458]{font-size:1.8em;font-weight:600;margin-bottom:.3em}.panel[data-v-14740458]{margin-top:1em;border:none}.panel .panel-heading[data-v-14740458]{border-top:1px solid #dbdbdb;background-color:#fff;font-weight:700}.reply-btn[data-v-14740458]{margin-left:10px}","",{version:3,sources:["/./src/pages/TopicDetail.vue"],names:[],mappings:"AACA,oCACE,gBAAiB,AACjB,gBAAiB,AACjB,kBAAoB,CACrB,AACD,wBACE,eAAgB,AAChB,WAAa,CACd,AACD,uCACE,6BAA8B,AAC9B,sBAAuB,AACvB,eAAiB,CAClB,AACD,4BACE,gBAAkB,CACnB",file:"TopicDetail.vue",sourcesContent:["\n.level-item .title[data-v-14740458] {\n  font-size: 1.8em;\n  font-weight: 600;\n  margin-bottom: .3em;\n}\n.panel[data-v-14740458] {\n  margin-top: 1em;\n  border: none;\n}\n.panel .panel-heading[data-v-14740458] {\n  border-top: 1px solid #dbdbdb;\n  background-color: #fff;\n  font-weight: 700;\n}\n.reply-btn[data-v-14740458] {\n  margin-left: 10px;\n}\n"],sourceRoot:"webpack://"}])},165:function(t,e,s){e=t.exports=s(2)(),e.push([t.id,".reply-content[data-v-adce5afc]{margin-top:10px}","",{version:3,sources:["/./src/components/Reply.vue"],names:[],mappings:"AACA,gCACE,eAAiB,CAClB",file:"Reply.vue",sourcesContent:["\n.reply-content[data-v-adce5afc] {\n  margin-top: 10px;\n}\n"],sourceRoot:"webpack://"}])},170:function(t,e,s){var a=s(162);"string"==typeof a&&(a=[[t.id,a,""]]);s(3)(a,{});a.locals&&(t.exports=a.locals)},175:function(t,e,s){var a=s(165);"string"==typeof a&&(a=[[t.id,a,""]]);s(3)(a,{});a.locals&&(t.exports=a.locals)},190:function(t,e,s){s(175);var a=s(1)(s(113),s(204),"data-v-adce5afc",null);t.exports=a.exports},193:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section"},[s("div",{staticClass:"container"},[s("nav",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[s("h2",{staticClass:"title"},[t._v(t._s(t.topic.title))]),t._v(" "),s("p",[s("router-link",{attrs:{to:"/user/"+t.user.login}},[t._v(t._s(t.user.login)+" ")]),t._v(" · for\n            "),s("router-link",{attrs:{to:"/node/"+t.topic.node_id}},[t._v(t._s(t.topic.node_name))]),t._v(" · Created at "+t._s(t._f("formatTime")(t.topic.created_at))+" "),t.topic.last_reply_user_login?s("span",[t._v("· Last by "),s("router-link",{attrs:{to:"/user/"+t.topic.last_reply_user_login}},[t._v(t._s(t.topic.last_reply_user_login))]),t._v(" replied at "+t._s(t._f("formatTime")(t.topic.replied_at))+" ")],1):t._e(),t._v("·\n            "+t._s(t.topic.hits)+" hits")],1)])])]),t._v(" "),s("div",{staticClass:"markdown-body"},[s("div",{domProps:{innerHTML:t._s(t.topic.body_html)}}),t._v(" "),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v("\n          共收到 "+t._s(t.replies.length)+" 条回复\n        ")]),t._v(" "),s("div",{staticClass:"panel-block"},[t._l(t.replies,function(t){return s("reply",{attrs:{reply:t}})}),t._v(" "),t.isShow?s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("markdown",{attrs:{onchange:t.cb}}),t._v(" "),s("button",{staticClass:"button is-primary reply-btn",on:{click:t.reply}},[t._v("reply")])],1)]):t._e()],2)])])])])},staticRenderFns:[]}},204:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("article",{staticClass:"media"},[s("figure",{staticClass:"media-left"},[s("p",{staticClass:"image is-64x64"},[s("router-link",{attrs:{to:"/user/"+t.reply.user.login}},[s("img",{attrs:{src:t.reply.user.avatar_url}})])],1)]),t._v(" "),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("strong",[s("router-link",{attrs:{to:"/user/"+t.reply.user.login}},[t._v(t._s(t.reply.user.login))])],1),t._v(" "),s("div",{staticClass:"reply-content",domProps:{innerHTML:t._s(t.reply.body_html)}}),t._v(" "),s("small",[t._v("replied at "+t._s(t._f("formatTime")(t.reply.created_at)))])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=8.80e836e86f5d933add47.js.map